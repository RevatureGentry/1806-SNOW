<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Users - A Demo SPA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script type="text/javascript" 
            src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular.js"></script>
    <script type="text/javascript" src="users.js"></script>
</head>
<body ng-app="pickle-app">
    <div ng-controller="add-user-ctrl">
        <h1>Add a user:</h1>
        <form action="#" ng-submit="postUser()"> <!-- -->
            ID:         <input type="text" ng-model="user.userId"><br>
            First Name: <input type="text" ng-model="user.firstname"><br>
            Last Name:  <input type="text" ng-model="user.lastname"><br>
            Email:      <input type="email" ng-model="user.email"><br>
            Username:   <input type="text" ng-model="user.username"><br>
            Password:   <input type="password" ng-model="user.password"><br>
            <input type="submit" value="Add"><br>
        </form>
    </div>

    <hr> <!-- Another Page-->
    
    <div ng-controller="get-all-ctrl">
        <h1>All Users</h1>
        <table>
            <thead>
                <tr>
                    <th>Id</th> <th>First Name</th> <th>Last Name</th>
                    <th>Email</th> <th>Username</th> <th>Password</th>
                </tr>
            </thead>
            <tbody ng-if="users"> <!-- if users is truthy, display the table body.-->
                <tr ng-repeat="u in users"> <!-- For each u in users...-->
                    <td>{{u.userId}}</td> <td>{{u.firstname}}</td> 
                    <td>{{u.lastname}}</td> <td>{{u.email}}</td> 
                    <td>{{u.username}}</td> <td>{{u.password}}</td>
                </tr>
            </tbody>
        </table>
        <button ng-click="refresh()">Refresh</button>
    </div>
    
    <hr> <!-- Another Page-->
    
    <div ng-controller="get-one-ctrl">
        <h1>Find User by ID</h1>
        <form action="#" ng-submit="goFetchUser()">
            Id: <input type="text" ng-model="searchValue"><input type="submit" value="Find">
        </form>
        <div ng-if="foundUser">
            <h2>Id: {{foundUser.userId}} | Name: {{foundUser.firstname}}</h2>
            <p>Email: {{foundUser.email}}</p>
        </div>
    </div>
    
    <hr> <!-- Another Page-->
</body>
</html>